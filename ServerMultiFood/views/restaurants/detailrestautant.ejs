<%- include('../inc/top') %>
  <div class="box-restaurant d-flex align-items-start justify-content-between mt-3 p-3 container bg-light-subtle"
    style="box-shadow: 0 5px 8px rgba(0, 0, 0, 0.2);">
    <img src="/upload/<%= restaurant.avatarName  %>" alt="" style="min-width: 260px; 
            max-width: 260px; 
            min-height: 260px;
            max-height: 260px; 
            border-radius: 8px;    
            box-shadow: 0 5px 8px rgba(0, 0, 0, 0.2);">
    <div class="ms-3 flex-grow-1">
      <h3>
        <%= restaurant.nameRestaurant %>
      </h3>
      <div class="d-flex">
        <p class="text-decoration-underline" style="color: #ecd811;">
          <%= restaurant.rate %><i class='bx bxs-star' style='color:#ecd811'></i>
        </p>
        <div style="width: 1px; background: #ccc; padding-bottom: 10px; margin-left: 10px; margin-right: 10px;"></div>
        <p><span class="text-decoration-underline">0</span> Đánh giá</p>
        <div style="width: 1px; background: #ccc; padding-bottom: 10px; margin-left: 10px; margin-right: 10px;"></div>

        <p><span class="text-decoration-underline">0</span> Đã bán</p>
      </div>
      <p class="mt-3 "><span class="text-black-50 me-3">Thể loại:</span>
        <%= restaurant.category.join(' - ')%></p>
            <p><span class="text-black-50 me-3 mt-2">Chủ sở hữu: </span><%= restaurant.idUserRestaurant.userName  %></p>
            <p><span class="text-black-50 me-3 mt-2">Ngày đăng ký: </span><%= moment(restaurant.createAt).format(' L')
          %>
      </p>
      <p><span class="text-black-50 me-3 mt-2">Số điện thoại: </span>
        <%= restaurant.phoneNumber %>
      </p>
      <p><span class="text-black-50 me-3 mt-2">Địa chỉ:</span>
        <%= restaurant.address %>
      </p>
      <p><span class="text-black-50 me-3 mt-2">Mô tả: </span>
        <%= restaurant.description %>
      </p>
    </div>
    <div class="d-flex flex-column">
      <button type="button" class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#modaladdfood">Thêm
        món ăn</button>
      <button type="button" class="btn btn-outline-success mt-1">Quảng cáo</button>
      <button type="button" class="btn btn-outline-danger  mt-1">Dừng hoạt động</button>
    </div>
  
    <div class="modal fade" id="modaladdfood" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
      aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <form action="" method="post" id="form-restaurant" enctype="multipart/form-data">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="staticBackdropLabel">
                Thêm món ăn
              </h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label">Ảnh món ăn</label>
                <input type="file" class="form-control avatar" required name="avatarFood" placeholder="..." />
              </div>
              <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label">Tên món ăn</label>
                <input type="text" class="form-control nameFood" required name="nameFood" placeholder="..." />
              </div>
              <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label">Giá</label>
                <input type="text" class="form-control price" required name="price" placeholder="..." />
              </div>
              <div class="mb-3">
                <div class="content">
                  <div class="d-flex">
                    <p>Thêm topping</p><button type="button"
                      class="btn btn-light ms-3 btn-add-toping rounded-0">Thêm</button>
                  </div>

                </div>
              </div>
              <div class="mb-3">
                <label for="floatingTextarea">Mô tả</label>
                <textarea class="form-control description" placeholder="..." id="floatingTextarea"
                  name="description"></textarea>
              </div>

              <div class="showMessage"></div>
            </div>

            <div class="modal-footer">
              <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                Hủy
              </button>
              <button type="submit" class="btn btn-outline-primary btn-suscess">
                Xác nhận
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
   
  </div>
  <div class="item-food container d-flex flex-row align-items-center mt-5">
  <% listFood.forEach(item => { %>
    
     <div class="d-flex flex-column me-3 shadow p-3 mb-5 bg-body-tertiary rounded">
       <img src="/upload/<%= item.avatarName  %>" alt="" width="80px" height="80px">
      <p><%= item.nameFood  %></p>
      <p><%= item.price  %></p>
    </div>
    
  <% }) %>
</div>
  <script>
    const btnAddToping = document.querySelector('.btn-add-toping')
    btnAddToping.onclick = () => {
      createAddToping()
    }
    function createAddToping() {
      const ulToping = document.querySelector('.content')
      if (ulToping) {
        const createToping = document.createElement("div");
        createToping.innerHTML = `
        <p class="name-topping">Tên toping 1</p>
        <ul class="ul-category">
            <input type="text" class="category" spellcheck="false" />
        </ul>
        `
        ulToping.appendChild(createToping)
        var nameToping = document.querySelectorAll('.name-topping');
      }
    }
    

    if(nameToping){
      nameToping.forEach((event)=>{
        console.log(event);
        item.addEventListener("click",()=>{
        item.contentEditable = true;
        item.focus();
      })
      })
    }
  </script>
  <%- include('../inc/bottom') %>